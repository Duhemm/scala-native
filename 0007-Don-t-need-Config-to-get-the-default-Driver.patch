From 6c8bbcd7dc7f239132f1340298793725c766d609 Mon Sep 17 00:00:00 2001
From: Martin Duhem <martin.duhem@gmail.com>
Date: Fri, 2 Dec 2016 09:09:51 +0100
Subject: [PATCH 07/13] Don't need `Config` to get the default `Driver`

---
 .../scala/scala/scalanative/sbtplugin/ScalaNativePluginInternal.scala | 2 +-
 tools/src/main/scala/scala/scalanative/optimizer/Driver.scala         | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/sbt-scala-native/src/main/scala/scala/scalanative/sbtplugin/ScalaNativePluginInternal.scala b/sbt-scala-native/src/main/scala/scala/scalanative/sbtplugin/ScalaNativePluginInternal.scala
index 3a3a033..f82e1e6 100644
--- a/sbt-scala-native/src/main/scala/scala/scalanative/sbtplugin/ScalaNativePluginInternal.scala
+++ b/sbt-scala-native/src/main/scala/scala/scalanative/sbtplugin/ScalaNativePluginInternal.scala
@@ -58,7 +58,7 @@ object ScalaNativePluginInternal {
       logger: Logger,
       linkerReporter: tools.LinkerReporter,
       optimizerReporter: tools.OptimizerReporter): Seq[nir.Attr.Link] = {
-    val driver                   = tools.OptimizerDriver(config)
+    val driver                   = tools.OptimizerDriver()
     val (unresolved, links, raw) = tools.link(config, driver, linkerReporter)
 
     if (unresolved.nonEmpty) { reportLinkingErrors(unresolved, logger) }
diff --git a/tools/src/main/scala/scala/scalanative/optimizer/Driver.scala b/tools/src/main/scala/scala/scalanative/optimizer/Driver.scala
index 63e71b6..ba7f75c 100644
--- a/tools/src/main/scala/scala/scalanative/optimizer/Driver.scala
+++ b/tools/src/main/scala/scala/scalanative/optimizer/Driver.scala
@@ -18,8 +18,8 @@ sealed trait Driver {
 
 object Driver {
 
-  /** Create driver with default pipeline for this configuration. */
-  def apply(config: tools.Config): Driver =
+  /** Create driver with default pipeline. */
+  def apply(): Driver =
     new Impl(
       Seq(pass.GlobalBoxingElimination,
           pass.DeadCodeElimination,
-- 
2.9.3 (Apple Git-75)

